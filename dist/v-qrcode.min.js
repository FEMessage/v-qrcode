var VQrcode=function(e,t,i){"use strict";function n(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}function a(e){var t,i,n,a;for(t="",n=e.length,i=0;i<n;i++)(a=e.charCodeAt(i))>=1&&a<=127?t+=e.charAt(i):a>2047?(t+=String.fromCharCode(224|a>>12&15),t+=String.fromCharCode(128|a>>6&63),t+=String.fromCharCode(128|a>>0&63)):(t+=String.fromCharCode(192|a>>6&31),t+=String.fromCharCode(128|a>>0&63));return t}function r(e){r.installed||(r.installed=!0,e.component("VQrcode",o))}t=t&&t.hasOwnProperty("default")?t.default:t,i=i&&i.hasOwnProperty("default")?i.default:i,function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText="":t.appendChild(document.createTextNode("")),e.appendChild(t)}}();var o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-qrcode"},[i("canvas",{directives:[{name:"show",rawName:"v-show",value:"canvas"===e.type,expression:"type === 'canvas'"}],ref:"canvas",style:{height:e.size+"px",width:e.size+"px"},attrs:{height:e.size,width:e.size}}),e._v(" "),"img"===e.type?i("img",{style:{height:e.size+"px",width:e.size+"px"},attrs:{src:e.imgData}}):e._e()])},staticRenderFns:[],name:"VQrcode",props:{value:String,size:{type:Number,default:160},level:{type:String,default:"L"},bgColor:{type:String,default:"#FFFFFF"},fgColor:{type:String,default:"#000000"},type:{type:String,default:"img"}},mounted:function(){var e=this;this.$nextTick(function(){e.render()})},data:function(){return{imgData:""}},watch:{value:function(){this.render()},size:function(){this.render()},level:function(){this.render()},bgColor:function(){this.render()},fgColor:function(){this.render()}},methods:{render:function(){var e=this;if(void 0!==this.value){var r=new t(-1,i[this.level]);r.addData(a(this.value)),r.make();var o=this.$refs.canvas,l=o.getContext("2d"),s=r.modules,d=this.size/s.length,c=this.size/s.length,h=(window.devicePixelRatio||1)/n(l);o.height=o.width=this.size*h,l.scale(h,h),s.forEach(function(t,i){t.forEach(function(t,n){l.fillStyle=t?e.fgColor:e.bgColor;var a=Math.ceil((n+1)*d)-Math.floor(n*d),r=Math.ceil((i+1)*c)-Math.floor(i*c);l.fillRect(Math.round(n*d),Math.round(i*c),a,r)})}),"img"===this.type&&(this.imgData=o.toDataURL("image/png"))}}}},l={install:r},s=null;return"undefined"!=typeof window?s=window.Vue:"undefined"!=typeof global&&(s=global.Vue),s&&s.use(l),e.install=r,e.default=o,e}({},QRCodeImpl,ErrorCorrectLevel);
